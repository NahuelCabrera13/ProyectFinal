graph TD
    %% Styles
    classDef client fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
    classDef backend fill:#fff3e0,stroke:#e65100,stroke-width:2px;
    classDef db fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px;
    classDef ai fill:#f3e5f5,stroke:#4a148c,stroke-width:2px;

    subgraph Clients
        Desktop[Web Dashboard Next.js + Tailwind]:::client
    end

    subgraph Cloud Infrastructure
        BFF[BFF API Node.js]:::backend
    end

    subgraph Data Persistence
        Postgres[(PostgreSQL Relational Data Users, Racks, Stock)]:::db
        Supabase[(Supabase Flexible Product Data)]:::db
    end

    subgraph External AI
        Gemini[Gemini APINLP & Intent Recognition]:::ai
    end

    %%Connections
    Desktop -->|HTTPS / REST| BFF

    BFF -->|ORM| Postgres
    BFF -->|Supabase| Supabase

    BFF -.->|Prompt Eng| Gemini
    Gemini -.->|Response| BFF